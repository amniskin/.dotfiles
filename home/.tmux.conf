## # set command prefix for tmux
unbind C-b
set-option -g prefix C-a

unbind '"'
bind | split-window -h -c "#{pane_current_path}"
unbind '%'
bind _ split-window -v -c "#{pane_current_path}"

bind J command-prompt -p "join pane from:" "join-pane -s '%%'"

unbind "n"
bind n new-session

# unbind 'p'
# bind p display-panes

setw -g mode-keys vi
##
# set some bindings for moving around terminals (vim-like)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
## # New buffer settings
bind c new-window -c "#{pane_current_path}"

## FIXME
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi V send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel
bind-key -T copy-mode-vi J send-keys -X scroll-down
bind-key -T copy-mode-vi K send-keys -X scroll-up
## FIXME

# buffer
bind Space choose-buffer

bind R source-file ~/.tmux.conf \; display-message "  Config reloaded..."

# window list options
setw -g automatic-rename on
set-option -g allow-rename on
set -g renumber-windows on

set -g pane-base-index 0
set -g visual-activity on
setw -g monitor-activity on
set -g visual-bell on

set -g set-titles on

set -g pane-border-style 'fg=colour244 bg=colour232'
set -g pane-active-border-style 'fg=colour12 bg=colour232'

#####################################
############# status bar ############
#####################################

fg_color="#{?window_last_flag,colour12,default}"
fg_color="#{?window_bell_flag,colour165,${fg_color}}"
fg_color="#{?window_activity_flag,colour160,${fg_color}}"
# fg_color="#{?window_activity_flag,colour160,#{?window_last_flag,colour12,default}}"
set -g status on
set -g status-interval 10
set -g status-fg colour244
set -g status-bg colour232
set -g status-justify centre
set -g status-left '#{?client_prefix,#[fg=colour12],#{?selection_present,#[fg=colour244],#[default]}}#[bold][#{host_short}/#S]'
set -g status-left-length 20
set -g status-right '#{?client_prefix,#[fg=colour12],#[default]}#[bold][#{client_name}]'
set -g status-right-length 150
set -g window-status-current-format "#[fg=colour12,bold][#[nobold]#I:#W#[bold]]"
set -g window-status-format "#[fg=${fg_color},bold][#[fg=default,nobold]#I:#W#[fg=${fg_color},bold]]"
# set -g window-status-activity-style fg=colour160
# set -g window-status-current-style fg=colour12
# set -g window-status-last-style fg=colour12
# set -g window-status-bell-style fg=colour165
